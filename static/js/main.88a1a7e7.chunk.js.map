{"version":3,"sources":["components/ActivitiesSearch.js","components/Activities.js","components/TasksSearch.js","components/Tasks.js","components/activitiesData.js","components/tasksData.js","components/App.js","reportWebVitals.js","index.js"],"names":["ActivitiesSearch","props","useState","searchText","setSearchText","history","useHistory","className","onSubmit","ev","preventDefault","push","type","onChange","target","value","placeholder","Activities","gmap","setGmap","activities","setActivities","errors","setErrors","errorExists","setErrorExists","invalidDuration","setInvalidDuration","params","useParams","performSearch","searchTerm","toLowerCase","activity","filter","a","activityName","deleted","length","map","obj","tasksDates","tasks","t","date","dateId","calculateMinutes","reduce","prev","curr","duration","durationMinutes","toMinutes","Number","arriveBy","split","Math","round","hour","floor","minutes","departBy","useEffect","results","query","minDate","today","Date","dd","getDate","mm","getMonth","getFullYear","onGoogleApiLoaded","maps","bootstrapURLKeys","key","process","defaultCenter","lat","lng","defaultZoom","error","index","errorFields","addressFrom","addressTo","find","d","DistanceMatrixService","getDistanceMatrix","origins","destinations","region","travelMode","TravelMode","DRIVING","response","status","DistanceMatrixStatus","OK","alert","rows","elements","theData","id","now","originAddresses","destinationAddresses","handleSubmit","name","min","defaultValue","onClick","to","TasksSearch","setResults","task","includes","Tasks","setTasks","taskResults","taskName","isNaN","parseInt","taskId","activitiesData","tasksData","PageNotFound","App","basename","exact","path","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"wOAgCeA,MA3Bf,SAA2BC,GAEzB,MAAsCC,mBAAU,IAAhD,mBAAQC,EAAR,KAAoBC,EAApB,KACMC,EAAUC,cAahB,OACE,sBAAKC,UAAU,oBAAf,UACE,4CACA,uBAAMC,SAdW,SAACC,GAEpBA,EAAGC,iBACHL,EAAQM,KAAR,4BAAmCR,KAWjC,UACE,uBAAOS,KAAK,OAAOC,SATJ,SAACJ,GAEpBL,EAAeK,EAAGK,OAAOC,QAOwBC,YAAY,sBACzD,mD,eCuPOC,MAzQf,SAAqBhB,GAEnB,MAA0BC,mBAAU,MAApC,mBAAQgB,EAAR,KAAcC,EAAd,KACA,EAAsCjB,mBAAU,IAAhD,mBAAQkB,EAAR,KAAoBC,EAApB,KACA,EAA8BnB,mBAAU,IAAxC,mBAAQoB,EAAR,KAAgBC,EAAhB,KACA,EAAwCrB,mBAAU,IAAlD,mBAAQsB,EAAR,KAAqBC,EAArB,KACA,EAAgDvB,mBAAU,IAA1D,mBAAQwB,EAAR,KAAyBC,EAAzB,KAEMC,EAASC,cAEf,SAASC,EAAe3B,GAEtB,IAAM4B,EAAa5B,EAAW6B,cAGtBC,EAAWhC,EAAMmB,WAAWc,QAAQ,SAAAC,GAAC,OAAMA,EAAEC,aAAaJ,gBAAkBD,IAAeI,EAAEE,WAyBnG,OAxBKJ,EAASK,OAAS,GAIrBL,EAASM,KAAK,SAAAC,GAEZ,IAAMC,EAAaxC,EAAMyC,MAAMR,QAAQ,SAAAS,GAAC,OAAIA,EAAEC,OAASJ,EAAIK,QAAUF,EAAEP,aAAaJ,gBAAkBD,KAEtG,GAAKU,EAAWH,OAAS,EAAG,CAE1B,IAAMQ,EAAmBL,EAAWM,QAAQ,SAACC,EAAMC,GAAP,OAAgBD,EAAOC,EAAKC,WAAU,GAC5EC,EAAkBL,EAAmB,EAAI,EAAIA,EAG7CM,EAAqD,GAAvCC,OAAQb,EAAIc,SAASC,MAAM,KAAK,IAClDF,OAAQb,EAAIc,SAASC,MAAM,KAAK,IAC9BC,KAAKC,MAAOjB,EAAIU,SAAW,IAASC,EAElCO,EAAOF,KAAKG,MAAOP,EAAY,IAC/BQ,EAAUR,EAAY,GAAK,GAAjB,WAA0BA,EAAY,IAAOA,EAAY,GACzEZ,EAAIqB,SAAJ,UAAkBH,EAAlB,YAA0BE,OAIzB3B,EAMX6B,qBAAW,WAETvC,EAAW,IACXE,EAAgB,IAChBJ,EAAe,IACfM,EAAoB,IAGpB,IAAMoC,EAAUjC,EAAeF,EAAOoC,OAEtC3C,EAAe0C,KAEd,CAAEnC,EAAOoC,QAGZ,IA+CMC,EAAU,WACd,IAAIC,EAAQ,IAAIC,KACZC,EAAKF,EAAMG,UACXC,EAAKJ,EAAMK,WAAW,EAM1B,OALWL,EAAMM,cAKK,KAFtBF,EAAKA,EAAG,GAAK,IAAIA,EAAKA,GAEW,KAHjCF,EAAKA,EAAG,GAAK,IAAIA,EAAKA,IA0DxB,OACE,gCAEE,cAAC,IAAD,CACEK,kBAAoB,YAAkB,IAAhBlC,EAAe,EAAfA,IAAKmC,EAAU,EAAVA,KAAYvD,EAAQ,CAACoB,MAAKmC,UACrDC,iBAAkB,CAAEC,IAnLNC,2CAoLdC,cAAgB,CAACC,IAAK,UAAWC,IAAK,UACtCC,YAAc,IAIhB,sBAAK1E,UAAU,yBAAf,UAEIiB,EAAYc,OAAS,GAErB,8BAAKd,EAAL,OAEF,6BAEEF,EAAOgB,OAAS,GAEdhB,EAAOiB,KAAK,SAAC2C,EAAOC,GAAR,OACV,6BAAoBD,GAAVC,QAKdzD,EAAgBY,OAAS,GAAK,4BAAKZ,OAIvC,qBAAKnB,UAAU,iBAAf,SAEE,uBAAMC,SArFmB,SAACC,GAC9BA,EAAGC,iBAEH,IAAI0E,EAAc,GACb3E,EAAGK,OAAOsB,aAAarB,MAAMuB,QAAU,IAC1C8C,EAAW,sBAAQA,GAAR,CAAqB,cAG7B3E,EAAGK,OAAOwC,SAASvC,MAAMuB,QAAU,IACtC8C,EAAW,sBAAQA,GAAR,CAAqB,kBAG7B3E,EAAGK,OAAOuE,YAAYtE,MAAMuB,QAAU,IACzC8C,EAAW,sBAAQA,GAAR,CAAqB,kBAG7B3E,EAAGK,OAAOwE,UAAUvE,MAAMuB,QAAU,IACvC8C,EAAW,sBAAQA,GAAR,CAAqB,gBAGlC7D,EAAW6D,GAENA,EAAY9C,OAAS,EACxBb,EAAgB,2BAEXxB,EAAMmB,WAAWmE,MAAM,SAAAC,GAAC,OAAIA,EAAE3C,SAAWpC,EAAGK,OAAO+B,OAAO9B,OAC7DyE,EAAEpD,aAAaJ,gBAAkBvB,EAAGK,OAAOsB,aAAarB,MAAMiB,gBAC7DwD,EAAEnD,WACDZ,EAAgB,oBAIhBA,EAAgB,IA3FH,SAAChB,IAEJ,IAAIS,EAAKwD,KAAKe,uBAEtBC,kBACN,CACEC,QAAS,CAAElF,EAAGK,OAAOuE,YAAYtE,OACjC6E,aAAc,CAAEnF,EAAGK,OAAOwE,UAAUvE,OACpC8E,OAAQ,KACRC,WAAY5E,EAAKwD,KAAKqB,WAAWC,UAEnC,SAAUC,EAAUC,GAKlB,GAJIA,IAAWhF,EAAKwD,KAAKyB,qBAAqBC,IAC5CC,MAAM,cAAgBH,GAGqB,OAAxCD,EAASK,KAAK,GAAGC,SAAS,GAAGL,OAChCvE,EAAoB,+EACf,CAGL,IAAMyB,EAA8D,GAAjDC,OAAO5C,EAAGK,OAAOwC,SAASvC,MAAMwC,MAAM,KAAK,IAC5CF,OAAO5C,EAAGK,OAAOwC,SAASvC,MAAMwC,MAAM,KAAK,IAC3CC,KAAKC,MAAOwC,EAASK,KAAK,GAAGC,SAAS,GAAGrD,SAASnC,MAAQ,IACtE2C,EAAOF,KAAKG,MAAOP,EAAY,IAC/BQ,EAAUR,EAAY,GAEtBoD,EAAU,CACdC,GAAItC,KAAKuC,MACT7D,OAAQpC,EAAGK,OAAO+B,OAAO9B,MACzBqB,aAAc3B,EAAGK,OAAOsB,aAAarB,MACrCsE,YAAaY,EAASU,gBAAgB,GAAGpD,MAAM,KAAK,GACpD+B,UAAWW,EAASW,qBAAqB,GAAGrD,MAAM,KAAK,GACvDD,SAAU7C,EAAGK,OAAOwC,SAASvC,MAC7B8C,SAAS,GAAD,OAAKH,EAAL,YAAaE,GACrBV,SAAU+C,EAASK,KAAK,GAAGC,SAAS,GAAGrD,SAASnC,MAChDsB,SAAS,GAGXpC,EAAMoB,cAAN,sBAAyBpB,EAAMmB,YAA/B,CAA2CoF,KAC3CnF,EAAc,GAAD,mBAAMD,GAAN,CAAkBoF,KAC/B7E,EAAoB,QAmDpBkF,CAAcpG,KAoDhB,UACE,uBAAOG,KAAK,OAAOkG,KAAK,SAASC,IAAM9C,IAAY+C,aAAe/C,MAClE,uBAAOrD,KAAK,OAAOkG,KAAK,WAAW9F,YAAY,qBAC/C,uBAAOJ,KAAK,OAAOkG,KAAK,eAAe9F,YAAY,aACnD,uBAAOJ,KAAK,OAAOkG,KAAK,cAAc9F,YAAY,iBAClD,uBAAOJ,KAAK,OAAOkG,KAAK,YAAY9F,YAAY,eAChD,8CAKA,oBAAIT,UAAU,MAAd,SAEEa,EAAWkB,OAAS,EAEpBlB,EAAWmB,KAAK,SAAAN,GAAQ,OAEtB,6BACI,sBAAK1B,UAAU,kBAAf,UACE,sBAAKA,UAAU,YAAf,UACI0B,EAASY,OACX,wBAAQoE,QAAU,kBApEfR,EAoEmCxE,EAASwE,GAjEjExG,EAAMmB,WAAWmB,KAAK,SAAAN,GACfA,EAASwE,KAAOA,IACnBxE,EAASI,SAAWJ,EAASI,iBAKjChB,EAAeS,EAAeF,EAAOoC,QAVlB,IAAEyC,GAoEH,SAAwDxE,EAASI,QAAU,IAAM,SAEnF,eAAC,IAAD,CAAM6E,GAAE,6BAAyBjF,EAASG,aAAaJ,cAA/C,YAAkEC,EAASY,QAAnF,UACE,uBAAOtC,UAAU,kBAAjB,SACI0B,EAASG,eAGb,sBAAK7B,UAAU,YAAf,UACE,wBAAOA,UAAU,eAAjB,qBACY0B,EAASoD,eAErB,wBAAO9E,UAAU,eAAjB,qBACY0B,EAASqD,gBAIvB,sBAAK/E,UAAU,YAAf,UACE,wBAAOA,UAAU,eAAjB,iBACQ0B,EAAS4B,YAEjB,wBAAOtD,UAAU,eAAjB,iBACQ0B,EAASqB,sBAzBjBrB,EAASwE,OAkCrB,6DAAiC7E,EAAOoC,MAAxC,+BC9MGmD,MAxDf,SAAsBlH,GAEpB,MAAsCC,mBAAU,IAAhD,mBAAQC,EAAR,KAAoBC,EAApB,KACA,EAAgCF,mBAAU,IAA1C,mBAAQ6D,EAAR,KAAiBqD,EAAjB,KAgBA,OAdAtD,qBAAW,WAET,IAAM/B,EAAa5B,EAAW6B,cACxB+B,EAAU9D,EAAMyC,MAAMR,QAC1B,SAAAmF,GAAI,OAAIA,EAAKP,KAAK9E,cAAcsF,SAAUvF,MAG5CqF,EAAYrD,KACX,CAAE5D,IAOH,sBAAKI,UAAU,eAAf,UACE,uCACA,uBAAOK,KAAK,OAAOC,SAPF,SAACJ,GACpBL,EAAeK,EAAGK,OAAOC,QAMsBC,YAAY,iBAE3D,oBAAIT,UAAU,MAAd,SAEIwD,EAAQzB,OAAS,GAEjByB,EAAQxB,KAAK,SAAE8E,GAAF,OACb,oBAAI9G,UAAU,aAAd,SACE,gCACE,sBAAKA,UAAU,YAAf,UACA,gCACI8G,EAAKzE,OAET,gCACIyE,EAAKjF,kBAIT,qBAAK7B,UAAU,cAAf,SACI8G,EAAKP,OAET,sBAAKvG,UAAU,YAAf,uBACc8G,EAAKnE,SADnB,kBAd6BmE,EAAKZ,aCwG/Bc,MApIf,SAAgBtH,GAEd,MAA4BC,mBAAU,IAAtC,mBAAQwC,EAAR,KAAe8E,EAAf,KACA,EAA8BtH,mBAAU,IAAxC,mBAAQoB,EAAR,KAAgBC,EAAhB,KACA,EAAwCrB,mBAAU,IAAlD,mBAAQsB,EAAR,KAAqBC,EAArB,KAEMG,EAASC,cAiEf,OA/DAiC,qBAAW,WAGT0D,EAAU,IAEV,IAAMC,EAAcxH,EAAMyC,MAAMR,QAAQ,SAAAmF,GAAI,OAC1CA,EAAKzE,OAAShB,EAAOiB,QAAUwE,EAAKjF,aAAaJ,gBAAkBJ,EAAOoC,MAAMhC,iBAGlFwF,EAAUC,KACT,CAAE7F,EAAOiB,SAsDV,gCACE,sBAAKtC,UAAU,wBAAf,UAEIiB,EAAYc,OAAS,GAErB,8BAAKd,EAAL,OAEF,6BAEEF,EAAOgB,OAAS,GAEdhB,EAAOiB,KAAK,SAAC2C,EAAOC,GAAR,OACV,6BAAoBD,GAAVC,WAMlB,sBAAK5E,UAAU,iBAAf,UACE,kCACIqB,EAAOiB,OADX,OAGIjB,EAAOoC,SAGX,uBAAMxD,SA7ES,SAACC,GACpBA,EAAGC,iBAGH,IAAI0E,EAAc,GAWlB,GAVK3E,EAAGK,OAAO4G,SAAS3G,MAAMuB,QAAU,IACtC8C,EAAW,sBAAQA,GAAR,CAAqB,UAG7B3E,EAAGK,OAAOoC,SAASnC,MAAMuB,QAAU,IACtC8C,EAAW,sBAAQA,GAAR,CAAqB,cAGlC7D,EAAW6D,GAENA,EAAY9C,OAAS,EACxBb,EAAgB,gCAEhB,GAAKhB,EAAGK,OAAO4G,SAAS3G,MAAMuB,OAAS,IAAMqF,MAAOC,SAAUnH,EAAGK,OAAOoC,SAASnC,QAAY,CAE3F,IAAMyF,EAAU,CACdC,GAAItC,KAAKuC,MACTtE,aAAcR,EAAOoC,MACrBpB,KAAMhB,EAAOiB,OACbiE,KAAMrG,EAAGK,OAAO4G,SAAS3G,MACzBmC,SAAU0E,SAASnH,EAAGK,OAAOoC,SAASnC,OACtCsB,SAAS,GAEXZ,EAAgB,IAChBxB,EAAMuH,SAAN,sBAAoBvH,EAAMyC,OAA1B,CAAiC8D,KACjCgB,EAAS,GAAD,mBAAM9E,GAAN,CAAa8D,OA+CrB,UACE,uBAAO5F,KAAK,OAAOkG,KAAK,WAAW9F,YAAY,SADjD,OAGE,uBAAOJ,KAAK,OAAOkG,KAAK,WAAW9F,YAAY,qBAC/C,+CAIJ,oBAAIT,UAAU,MAAd,SAEImC,EAAMJ,OAAS,EAEfI,EAAMH,KAAK,SAAC8E,GAAD,OACT,oBAAI9G,UAAU,aAAd,SACE,gCACE,qBAAKA,UAAU,cAAf,SACI8G,EAAKP,OAGT,sBAAKvG,UAAU,eAAf,uBACc8G,EAAKnE,SADnB,WAEE,wBAAQ+D,QAAU,kBA9DXY,EA8D8BR,EAAKZ,GA3DxDxG,EAAMyC,MAAMH,KAAK,SAAA8E,GAERA,EAAKZ,KAAOoB,IACfR,EAAKhF,SAAWgF,EAAKhF,QACrBgF,EAAKnE,UAA4B,EAAjBmE,EAAKnE,kBAI3BsE,EAAUvH,EAAMyC,MAAMR,QAAQ,SAAAmF,GAAI,OAAIA,EAAKzE,OAAShB,EAAOiB,WAXxC,IAAEgF,GA8DP,SAAkDR,EAAKhF,QAAU,IAAM,aAR5CgF,EAAKZ,OAcxC,yDAA6B7E,EAAOoC,MAApC,+BCtGK8D,G,MAzBQ,CACrB,CACErB,GAAI,EACJ5D,OAAQ,aACRT,aAAc,OACdiD,YAAa,WACbC,UAAW,kCACXzB,SAAU,OACVP,SAAU,OACVJ,SAAU,KACVb,SAAS,GAEX,CACEoE,GAAI,EACJ5D,OAAQ,aACRT,aAAc,SACdiD,YAAa,WACbC,UAAW,eACXzB,SAAU,OACVP,SAAU,OACVJ,SAAU,KACVb,SAAS,KCME0F,EA3BG,CAChB,CACEtB,GAAI,EACJrE,aAAc,OACdQ,KAAM,aACNkE,KAAM,SACN5D,SAAU,EACVb,SAAS,GAEX,CACEoE,GAAI,EACJrE,aAAc,OACdQ,KAAM,aACNkE,KAAM,qBACN5D,SAAU,GACVb,SAAS,GAEX,CACEoE,GAAI,EACJrE,aAAc,SACdQ,KAAM,aACNkE,KAAM,eACN5D,SAAU,GACVb,SAAS,ICRb,SAAS2F,EAAc/H,GACrB,OACE,gCACE,8EADF,cAEa,cAAC,IAAD,CAAMiH,GAAG,IAAT,8BA0DFe,MArDf,WAEE,MAAsC/H,mBAAU4H,GAAhD,mBAAQ1G,EAAR,KAAoBC,EAApB,KACA,EAA4BnB,mBAAU6H,GAAtC,mBAAQrF,EAAR,KAAe8E,EAAf,KAEA,OAEE,qBAAKjH,UAAU,MAAf,SACE,eAAC,IAAD,CAAQ2H,SAAWrD,cAAnB,UACE,sBAAKtE,UAAU,SAAf,UACE,qBAAKA,UAAU,WAAf,2BACE,oBAAIA,UAAU,WAAd,SACE,sBAAKA,UAAU,OAAf,UACI,6BAAI,cAAC,IAAD,CAAM2G,GAAG,IAAT,0BACJ,6BAAI,cAAC,IAAD,CAAMA,GAAG,SAAT,6BAMd,eAAC,IAAD,WAEE,cAAC,IAAD,CAAOiB,OAAK,EAACC,KAAK,IAAIC,UAAYrI,IAClC,cAAC,IAAD,CAAOmI,OAAK,EAACC,KAAK,4BAAlB,SACE,cAAC,EAAD,CACEhH,WAAaA,EACbC,cAAgBA,EAChBqB,MAAQA,MAIZ,cAAC,IAAD,CAAOyF,OAAK,EAACC,KAAK,SAAlB,SACE,cAAC,EAAD,CACE1F,MAAQA,MAIZ,cAAC,IAAD,CAAOyF,OAAK,EAACC,KAAK,oCAAlB,SACE,cAAC,EAAD,CACE1F,MAAQA,EACR8E,SAAWA,MAIf,cAAC,IAAD,CAAOY,KAAK,IAAIC,UAAYL,aCxDvBM,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.88a1a7e7.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\n\r\nimport { useHistory } from 'react-router-dom';\r\n\r\n\r\nfunction ActivitiesSearch( props ){\r\n\r\n  const [ searchText, setSearchText ] = useState( '' );\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = (ev) => {\r\n    // console.log(\"ActivitiesSearch.handleSubmit() clicked: \", searchText);\r\n    ev.preventDefault();\r\n    history.push(`activities/search/${ searchText }`);\r\n  };\r\n\r\n  const handleChange = (ev) => {\r\n    // console.log(\"ActivitiesSearch.handleChange() clicked.\");\r\n    setSearchText( ev.target.value );\r\n  };\r\n\r\n  return(\r\n    <div className=\"activities-search\">\r\n      <h3>Activities</h3>\r\n      <form onSubmit={ handleSubmit } >\r\n        <input type=\"text\" onChange={ handleChange } placeholder=\"Search activities\"/>\r\n        <button>Search</button>\r\n      </form>\r\n    </div>\r\n  ) // return\r\n} // ActivitiesSearch\r\n\r\nexport default ActivitiesSearch;\r\n","import { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport GoogleMapReact from 'google-map-react';\r\n\r\nconst GMAPS_API_KEY = process.env.REACT_APP_GOOGLE_MAP_API_KEY;\r\n\r\nfunction Activities( props ) {\r\n\r\n  const [ gmap, setGmap ] = useState( null );\r\n  const [ activities, setActivities ] = useState( [] );\r\n  const [ errors, setErrors ] = useState( {} );\r\n  const [ errorExists, setErrorExists ] = useState( \"\" );\r\n  const [ invalidDuration, setInvalidDuration ] = useState( \"\" );\r\n\r\n  const params = useParams();\r\n\r\n  function performSearch( searchText ) {\r\n    // console.log(\"performSearch: \", props.activities);\r\n    const searchTerm = searchText.toLowerCase();\r\n\r\n    // const searchResults = () => {\r\n      const activity = props.activities.filter( a => ( a.activityName.toLowerCase() === searchTerm && !a.deleted ) );\r\n      if ( activity.length > 0 ){\r\n        // console.log(\"activity: \", activity);\r\n\r\n        // Sum tasks durations per activity\r\n        activity.map( obj => {\r\n          // console.log(\"props.tasks.filter( t => t.date === obj.dateId ): \", props.tasks.filter( t => t.date === obj.dateId ));\r\n          const tasksDates = props.tasks.filter( t => t.date === obj.dateId && t.activityName.toLowerCase() === searchTerm );\r\n\r\n          if ( tasksDates.length > 0 ){\r\n            // console.log(\"tasksDates: \", tasksDates);\r\n            const calculateMinutes = tasksDates.reduce( (prev, curr) => prev + curr.duration, 0 ); // need to do something here\r\n            const durationMinutes = calculateMinutes < 0 ? 0 : calculateMinutes;\r\n            // console.log(\"durationMinutes: \", durationMinutes, \" and activity.duration: \", ( Math.round( obj.duration / 60 ) ) );\r\n\r\n            const toMinutes = ( Number( obj.arriveBy.split(':')[0] ) * 60 ) +\r\n              Number( obj.arriveBy.split(':')[1] ) -\r\n              ( Math.round( obj.duration / 60 ) ) - durationMinutes ;\r\n\r\n            const hour = Math.floor( toMinutes / 60 );\r\n            const minutes = toMinutes % 60 < 10 ? `0${toMinutes % 60}` : toMinutes % 60;\r\n            obj.departBy = `${hour}:${minutes}`;\r\n          }\r\n        });\r\n      }\r\n      return activity;\r\n    // }\r\n\r\n    // setActivities( searchResults );\r\n  };\r\n\r\n  useEffect( () => {\r\n    // console.log(\"Activities.useEffect() is running handleClick: \", handleClick);\r\n    setErrors( {} );\r\n    setErrorExists( \"\" );\r\n    setActivities( [] );\r\n    setInvalidDuration( \"\" );\r\n\r\n    // performSearch( params.query );\r\n    const results = performSearch( params.query );\r\n    // console.log(results);\r\n    setActivities( results );\r\n\r\n  }, [ params.query ] );\r\n\r\n\r\n  const handleSubmit = (ev) => {\r\n\r\n    const service = new gmap.maps.DistanceMatrixService();\r\n\r\n    service.getDistanceMatrix(\r\n      {\r\n        origins: [ ev.target.addressFrom.value ],\r\n        destinations: [ ev.target.addressTo.value ],\r\n        region: \"AU\",\r\n        travelMode: gmap.maps.TravelMode.DRIVING\r\n      },\r\n      function( response, status ){\r\n        if (status !== gmap.maps.DistanceMatrixStatus.OK) {\r\n          alert('Error was: ' + status);\r\n        }\r\n\r\n        if ( response.rows[0].elements[0].status !== \"OK\" ){\r\n          setInvalidDuration( \"Unable to calculate duration due to unknown routes or routes not found.\" )\r\n        } else {\r\n          // console.log( response );\r\n\r\n          const toMinutes = (Number(ev.target.arriveBy.value.split(':')[0]) * 60) +\r\n                            Number(ev.target.arriveBy.value.split(':')[1]) -\r\n                            Math.round( response.rows[0].elements[0].duration.value / 60 );\r\n          const hour = Math.floor( toMinutes / 60 );\r\n          const minutes = toMinutes % 60;\r\n\r\n          const theData = {\r\n            id: Date.now(),\r\n            dateId: ev.target.dateId.value,\r\n            activityName: ev.target.activityName.value,\r\n            addressFrom: response.originAddresses[0].split(',')[0],\r\n            addressTo: response.destinationAddresses[0].split(',')[0],\r\n            arriveBy: ev.target.arriveBy.value,\r\n            departBy: `${hour}:${minutes}`,\r\n            duration: response.rows[0].elements[0].duration.value,\r\n            deleted: false\r\n          };\r\n\r\n          props.setActivities([ ...props.activities, theData ]);\r\n          setActivities([ ...activities, theData ]);\r\n          setInvalidDuration( \"\" );\r\n        }\r\n      }\r\n    )\r\n  };\r\n\r\n  const minDate = () => {\r\n    let today = new Date();\r\n    let dd = today.getDate();\r\n    let mm = today.getMonth()+1;\r\n    let yyyy = today.getFullYear();\r\n\r\n    dd = dd<10 ? '0'+dd : dd;\r\n    mm = mm<10 ? '0'+mm : mm;\r\n\r\n    return today = yyyy + '-' + mm + '-' + dd;\r\n  };\r\n\r\n  const handleValidationSubmit = (ev) => {\r\n    ev.preventDefault();\r\n\r\n    let errorFields = [];\r\n    if ( ev.target.activityName.value.length <= 0 ){\r\n      errorFields = [ ...errorFields, \"Activity\"]\r\n    }\r\n\r\n    if ( ev.target.arriveBy.value.length <= 0 ){\r\n      errorFields = [ ...errorFields, \"Arrival Time\"]\r\n    }\r\n\r\n    if ( ev.target.addressFrom.value.length <= 0 ){\r\n      errorFields = [ ...errorFields, \"Address From\"]\r\n    }\r\n\r\n    if ( ev.target.addressTo.value.length <= 0 ){\r\n      errorFields = [ ...errorFields, \"Address To\"]\r\n    }\r\n\r\n    setErrors( errorFields );\r\n\r\n    if ( errorFields.length > 0 ){\r\n      setErrorExists( \"Missing required fields\" );\r\n    } else {\r\n      if ( props.activities.find( d => d.dateId === ev.target.dateId.value &&\r\n        d.activityName.toLowerCase() === ev.target.activityName.value.toLowerCase() &&\r\n        !d.deleted ) ){\r\n          setErrorExists( \"Activity exists\" );\r\n          // alert(\"Same activity was found\");\r\n          // return;\r\n        } else{\r\n          setErrorExists( \"\" );\r\n          handleSubmit( ev );\r\n        }\r\n      }\r\n  };\r\n\r\n  const handleDelete = ( id ) => {\r\n    // console.log( props.activities );\r\n\r\n    props.activities.map( activity => {\r\n      if ( activity.id === id ){\r\n        activity.deleted = !activity.deleted;\r\n      }\r\n    } );\r\n\r\n    // props.setActivities( delResults );\r\n    setActivities( performSearch( params.query ) );\r\n\r\n  };\r\n\r\n  return(\r\n    <div>\r\n\r\n      <GoogleMapReact\r\n        onGoogleApiLoaded={ ({map, maps}) => { setGmap({map, maps}) }  /* get the instances of the underlying Gmap objects, needed for adding a Circle later on in performSearch()  */ }\r\n        bootstrapURLKeys={{ key: GMAPS_API_KEY }}\r\n        defaultCenter={ {lat: 19.168802, lng: 99.895430} /* Thailand... why not */ }\r\n        defaultZoom={ 7 }\r\n      >\r\n      </GoogleMapReact>\r\n\r\n      <div className=\"search-results-invalid\">\r\n        {\r\n          errorExists.length > 0\r\n          &&\r\n          <p>{ errorExists }:</p>\r\n        }\r\n        <ul>\r\n        {\r\n          errors.length > 0\r\n          &&\r\n            errors.map( (error, index ) =>\r\n              <li key={ index }>{ error }</li>\r\n            )\r\n        }\r\n        </ul>\r\n        {\r\n          invalidDuration.length > 0 && <p>{ invalidDuration }</p>\r\n        }\r\n      </div>\r\n\r\n      <div className=\"search-results\">\r\n\r\n        <form onSubmit={ handleValidationSubmit } >\r\n          <input type=\"date\" name=\"dateId\" min={ minDate() } defaultValue={ minDate() } />\r\n          <input type=\"time\" name=\"arriveBy\" placeholder=\"Arrive By (hhmm)\" />\r\n          <input type=\"text\" name=\"activityName\" placeholder=\"Activity\" />\r\n          <input type=\"text\" name=\"addressFrom\" placeholder=\"Address From\" />\r\n          <input type=\"text\" name=\"addressTo\" placeholder=\"Address To\" />\r\n          <button>New</button>\r\n        </form>\r\n\r\n      </div>\r\n\r\n          <ul className=\"row\">\r\n          {\r\n            activities.length > 0\r\n            ?\r\n            activities.map( activity =>\r\n\r\n              <li key={ activity.id }   >\r\n                  <div className=\"activities-card\">\r\n                    <div className=\"txt-label\">\r\n                      { activity.dateId }\r\n                      <button onClick={ () => handleDelete( activity.id ) }>{ activity.deleted ? \"+\" : \"-\" }</button>\r\n                    </div>\r\n                    <Link to={`/activities/search/${ activity.activityName.toLowerCase() }/${ activity.dateId }`} >\r\n                      <label className=\"txt-label-title\">\r\n                        { activity.activityName }\r\n                      </label>\r\n\r\n                      <div className=\"txt-label\">\r\n                        <label className=\"txt-subLabel\">\r\n                          Depart: { activity.addressFrom }\r\n                        </label>\r\n                        <label className=\"txt-subLabel\">\r\n                          Arrive: { activity.addressTo }\r\n                        </label>\r\n                      </div>\r\n\r\n                      <div className=\"txt-label\">\r\n                        <label className=\"txt-subLabel\">\r\n                          At: { activity.departBy }\r\n                        </label>\r\n                        <label className=\"txt-subLabel\">\r\n                          At: { activity.arriveBy }\r\n                        </label>\r\n                      </div>\r\n                    </Link>\r\n                  </div>\r\n\r\n              </li>\r\n            )\r\n            :\r\n            <p>Activity list is empty for '{ params.query }'. Start adding it.</p>\r\n          }\r\n          </ul>\r\n\r\n\r\n    </div>\r\n  ) // return\r\n}; // Activities\r\n\r\nexport default Activities;\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nfunction TasksSearch( props ){\r\n\r\n  const [ searchText, setSearchText ] = useState( '' );\r\n  const [ results, setResults ] = useState( {} );\r\n\r\n  useEffect( () => {\r\n\r\n    const searchTerm = searchText.toLowerCase();\r\n    const results = props.tasks.filter(\r\n      task => task.name.toLowerCase().includes( searchTerm )\r\n    );\r\n\r\n    setResults( results );\r\n  }, [ searchText ] );\r\n\r\n  const handleChange = (ev) => {\r\n    setSearchText( ev.target.value );\r\n  };\r\n\r\n  return(\r\n    <div className=\"tasks-search\" >\r\n      <h3>Tasks</h3>\r\n      <input type=\"text\" onChange={ handleChange } placeholder=\"Search tasks\"/>\r\n\r\n    <ul className=\"row\">\r\n      {\r\n        results.length > 0\r\n        &&\r\n        results.map( ( task ) =>\r\n        <li className=\"tasks-card\" key={ task.id } >\r\n          <div>\r\n            <div className=\"txt-label\">\r\n            <label>\r\n              { task.date }\r\n            </label>\r\n            <label>\r\n              { task.activityName }\r\n            </label>\r\n            </div>\r\n\r\n            <div className=\"tasks-title\">\r\n              { task.name }\r\n            </div>\r\n            <div className=\"txt-label\">\r\n              Duration: { task.duration } minutes\r\n            </div>\r\n          </div>\r\n        </li>\r\n        )\r\n      }\r\n    </ul>\r\n\r\n    </div>\r\n  ) // return\r\n} // TasksSearch\r\n\r\nexport default TasksSearch;\r\n","import { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nfunction Tasks( props ) {\r\n\r\n  const [ tasks, setTasks ] = useState( [] );\r\n  const [ errors, setErrors ] = useState( {} );\r\n  const [ errorExists, setErrorExists ] = useState( \"\" );\r\n\r\n  const params = useParams();\r\n\r\n  useEffect( () => {\r\n    // console.log(props.tasks);\r\n    // console.log(params);\r\n    setTasks( [] );\r\n\r\n    const taskResults = props.tasks.filter( task =>\r\n      task.date === params.dateId && task.activityName.toLowerCase() === params.query.toLowerCase()\r\n    );\r\n\r\n    setTasks( taskResults );\r\n  }, [ params.dateId ] );\r\n\r\n  const handleSubmit = (ev) => {\r\n    ev.preventDefault();\r\n    // console.log( \"Tasks.handleSubmit() clicked\" );\r\n\r\n    let errorFields = [];\r\n    if ( ev.target.taskName.value.length <= 0 ){\r\n      errorFields = [ ...errorFields, \"Task\"]\r\n    }\r\n\r\n    if ( ev.target.duration.value.length <= 0 ){\r\n      errorFields = [ ...errorFields, \"Duration\"]\r\n    }\r\n\r\n    setErrors( errorFields );\r\n\r\n    if ( errorFields.length > 0 ){\r\n      setErrorExists( \"Missing required fields\" );\r\n    } else {\r\n      if ( ev.target.taskName.value.length > 0 && !isNaN( parseInt( ev.target.duration.value ) ) ) {\r\n        // console.log(\"adding new tasks\");\r\n        const theData = {\r\n          id: Date.now(),\r\n          activityName: params.query,\r\n          date: params.dateId,\r\n          name: ev.target.taskName.value,\r\n          duration: parseInt(ev.target.duration.value),\r\n          deleted: false\r\n        }\r\n        setErrorExists( \"\" );\r\n        props.setTasks([ ...props.tasks, theData ]);\r\n        setTasks([ ...tasks, theData ]);\r\n      }\r\n    }\r\n\r\n  };\r\n\r\n  const handleDelete = ( taskId ) => {\r\n    // array of the task selected\r\n    // mutable\r\n    props.tasks.map( task => {\r\n        // console.log(\"task.id == taskId: \", task.id, \":\", task.id === taskId);\r\n        if ( task.id === taskId ){\r\n          task.deleted = !task.deleted;\r\n          task.duration = task.duration * -1;\r\n        }\r\n      } );\r\n\r\n    setTasks( props.tasks.filter( task => task.date === params.dateId ) );\r\n\r\n  };\r\n\r\n  return(\r\n    <div>\r\n      <div className=\"tasks-results-invalid\">\r\n        {\r\n          errorExists.length > 0\r\n          &&\r\n          <p>{ errorExists }:</p>\r\n        }\r\n        <ul>\r\n        {\r\n          errors.length > 0\r\n          &&\r\n            errors.map( (error, index ) =>\r\n              <li key={ index }>{ error }</li>\r\n            )\r\n        }\r\n        </ul>\r\n      </div>\r\n\r\n      <div className=\"search-results\">\r\n        <label>\r\n          { params.dateId }\r\n          &nbsp;\r\n          { params.query }\r\n        </label>\r\n\r\n        <form onSubmit={ handleSubmit } >\r\n          <input type=\"text\" name=\"taskName\" placeholder=\"Task\" />\r\n          &nbsp;\r\n          <input type=\"text\" name=\"duration\" placeholder=\"Duration in mins\" />\r\n          <button>New</button>\r\n        </form>\r\n      </div>\r\n\r\n      <ul className=\"row\">\r\n        {\r\n          tasks.length > 0\r\n          ?\r\n          tasks.map( (task) =>\r\n            <li className=\"tasks-card\" key={ task.id } >\r\n              <div>\r\n                <div className=\"tasks-title\">\r\n                  { task.name }\r\n                </div>\r\n\r\n                <div className=\"tasks-labels\">\r\n                  Duration: { task.duration } minutes\r\n                  <button onClick={ () => handleDelete(task.id) }>{ task.deleted ? \"+\" : \"-\" }</button>\r\n                </div>\r\n              </div>\r\n            </li>\r\n          )\r\n          :\r\n          <p>Task list is empty for '{ params.query }'. Start adding it.</p>\r\n        }\r\n      </ul>\r\n\r\n    </div>\r\n  ) // return\r\n}; // Tasks\r\n\r\nexport default Tasks;\r\n\r\n\r\n// TODO: Task deletion. flag only and recalculate in Activities. Then do styling on deleted/flagged styling. Also change the button + -\r\n","const activitiesData = [\r\n  {\r\n    id: 0,\r\n    dateId: '2021-09-20',\r\n    activityName: \"Work\",\r\n    addressFrom: \"Laverton\",\r\n    addressTo: \"Flinders Street Railway Station\",\r\n    departBy: \"8:00\",\r\n    arriveBy: \"9:00\",\r\n    duration: 1234,    // seconds\r\n    deleted: false\r\n  },\r\n  {\r\n    id: 1,\r\n    dateId: '2021-09-25',\r\n    activityName: \"Picnic\",\r\n    addressFrom: \"Laverton\",\r\n    addressTo: \"Wyndham Park\",\r\n    departBy: \"8:00\",\r\n    arriveBy: \"9:00\",\r\n    duration: 1234,    // seconds\r\n    deleted: false\r\n  }\r\n];\r\n\r\nexport default activitiesData;\r\n","const tasksData = [\r\n  {\r\n    id: 0,\r\n    activityName: \"work\",\r\n    date: \"2021-09-20\",\r\n    name: \"Coffee\",\r\n    duration: 5,\r\n    deleted: false\r\n  },\r\n  {\r\n    id: 1,\r\n    activityName: \"work\",\r\n    date: \"2021-09-20\",\r\n    name: \"Send kid to school\",\r\n    duration: 15,\r\n    deleted: false\r\n  },\r\n  {\r\n    id: 2,\r\n    activityName: \"picnic\",\r\n    date: \"2021-09-26\",\r\n    name: \"Prepare food\",\r\n    duration: 30,\r\n    deleted: false\r\n  }\r\n];\r\n\r\nexport default tasksData;\r\n","import { BrowserRouter as Router, Route, Switch, Link } from 'react-router-dom';\nimport { useState } from 'react';\n\n// import Home from './Home';\nimport ActivitiesSearch from './ActivitiesSearch';\nimport Activities from './Activities';\nimport TasksSearch from './TasksSearch';\nimport Tasks from './Tasks';\n// import Distance from './Distance';\n\nimport './App.css';\n\nimport activitiesData from './activitiesData';\nimport tasksData from './tasksData';\n\nfunction PageNotFound (props) {\n  return (\n    <div>\n      <h2>Sorry, the page you requested was not found.</h2>\n      Go back to <Link to=\"/\">the home page</Link>\n    </div>\n  )\n}\n\nfunction App() {\n\n  const [ activities, setActivities ] = useState( activitiesData );\n  const [ tasks, setTasks ] = useState( tasksData );\n\n  return (\n\n    <div className=\"App\">\n      <Router basename={ process.env.PUBLIC_URL }>\n        <nav className=\"navbar\">\n          <div className=\"App-logo\">on-the-dot...</div>\n            <ul className=\"nav-link\">\n              <div className=\"menu\">\n                  <li><Link to=\"/\">Activities</Link></li>\n                  <li><Link to=\"/tasks\">Tasks</Link></li>\n              </div>\n            </ul>\n\n        </nav>\n\n        <Switch>\n\n          <Route exact path=\"/\" component={ ActivitiesSearch } />\n          <Route exact path=\"/activities/search/:query\" >\n            <Activities\n              activities={ activities }\n              setActivities={ setActivities }\n              tasks={ tasks }\n            />\n          </Route>\n\n          <Route exact path=\"/tasks\">\n            <TasksSearch\n              tasks={ tasks }\n            />\n          </Route>\n\n          <Route exact path=\"/activities/search/:query/:dateId\">\n            <Tasks\n              tasks={ tasks }\n              setTasks={ setTasks }\n            />\n          </Route>\n\n          <Route path=\"*\" component={ PageNotFound } />\n\n        </Switch>\n\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n\n\n/*\n\n*/\n"],"sourceRoot":""}